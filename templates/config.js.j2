// This file was generated by Ansible for {{ansible_fqdn}}
// Do NOT modify this file by hand!

// == configuration
// config.js is where you will find the core grafana configuration. this file contains parameter that
// must be set before grafana is run for the first time.

define(['settings'],
function (settings) {
  

  return new settings({

    /* data sources
    * ========================================================
    * datasources are used to fetch metrics, annotations, and serve as dashboard storage
    *  - you can have multiple of the same type.
    *  - grafanadb: true    marks it for use for dashboard storage
    *  - default: true      marks the datasource as the default metric source (if you have multiple)
    *  - basic authentication: use url syntax http://username:password@domain:port
    */
    datasources: {
    {% for name in grafana_datasources%}
        {{ name }}: {{ grafana_datasources[name]|to_nice_json }}{% if not loop.last %}, {% endif %}
    {% endfor %}
    },

    /* global configuration options
    * ========================================================
    */

    // specify the limit for dashboard search results
    search: {
      max_results: {{ grafana_max_results }}
    },

    // default home dashboard
    default_route: '{{ grafana_default_route }}',

    // set to false to disable unsaved changes warning
    unsaved_changes_warning: {{ 'true' if grafana_unsaved_changes_warning else 'false' }},

    // set the default timespan for the playlist feature
    // Example: "1m", "1h"
    playlist_timespan: "{{grafana_playlist_timespan}}",

    // if you want to specify password before saving, please specify it bellow
    // the purpose of this password is not security, but to stop some users from accidentally changing dashboards
    admin: {
      password: '{{grafana_admin_password}}'
    },

    // change window title prefix from 'grafana - <dashboard title>'
    window_title_prefix: '{{grafana_window_title_prefix}}',

    // add your own custom panels
    plugins: {
      // list of plugin panels
      panels: [{{grafana_plugins_panels|map('pprint')|join(', ')}}],
      // requirejs modules in plugins folder that should be loaded
      // for example custom datasources
      dependencies: [{{grafana_plugins_dependencies|map('pprint')|join(', ')}}],
    }

  });
});
